{
  "ConnectionStrings": { "Redis": "redis:6379" },
  "Etcd": {
    "BaseUrl": "http://etcd:2379",
    "PoliciesKey": "/v2/keys/rl/policies.json",
    "PollSeconds": 10
  },
  "RateLimitingConfig": {
    "RedisKey": "rate-limiting:options",
    "PollSeconds": 10
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "RateLimiting": {
    "ClusterNodeCount": 2,
    "ClientIdHeader": "X-Client-Id",
    "DefaultWindowSeconds": 60,
    "DefaultMaxRequests": 30,
    "Algorithms": [
      {
        "Name": "sliding-window",
        "Type": "SlidingWindow",
        "MaxRequests": 15,
        "WindowSeconds": 60,
        "Enabled": true
      },
      {
        "Name": "fixed-window",
        "Type": "FixedWindow",
        "MaxRequests": 10,
        "WindowSeconds": 30,
        "Enabled": true
      },
      {
        "Name": "token-bucket",
        "Type": "TokenBucket",
        "Capacity": 20,
        "RefillRatePerSecond": 5,
        "Enabled": true
      }
    ]
  }
}
